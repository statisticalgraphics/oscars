<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | Oscars Over the Years</title>
  <meta name="description" content="Chapter 3 Data transformation | Oscars Over the Years" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | Oscars Over the Years" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | Oscars Over the Years" />
  
  
  

<meta name="author" content="Zoey Wee &amp; Shreya Rao" />


<meta name="date" content="2022-05-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Oscars</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a><ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#web-scraping"><i class="fa fa-check"></i><b>3.1</b> Web Scraping</a><ul>
<li class="chapter" data-level="3.1.1" data-path="data-transformation.html"><a href="data-transformation.html#all-supporting-actors-and-actresses"><i class="fa fa-check"></i><b>3.1.1</b> All supporting actors and actresses</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-transformation.html"><a href="data-transformation.html#all-lead-actors-and-actresses"><i class="fa fa-check"></i><b>3.1.2</b> All lead actors and actresses</a></li>
<li class="chapter" data-level="3.1.3" data-path="data-transformation.html"><a href="data-transformation.html#highest-grossing-movies-from-1977-2021"><i class="fa fa-check"></i><b>3.1.3</b> Highest Grossing Movies from 1977-2021</a></li>
<li class="chapter" data-level="3.1.4" data-path="data-transformation.html"><a href="data-transformation.html#box-office-earnings-of-oscar-best-picture"><i class="fa fa-check"></i><b>3.1.4</b> Box office earnings of Oscar Best Picture</a></li>
<li class="chapter" data-level="3.1.5" data-path="data-transformation.html"><a href="data-transformation.html#oscar-best-picture-winners-with-female-lead"><i class="fa fa-check"></i><b>3.1.5</b> Oscar Best Picture Winners with female lead</a></li>
<li class="chapter" data-level="3.1.6" data-path="data-transformation.html"><a href="data-transformation.html#box-office-of-winners-with-female-lead-and-the-nominees-that-year"><i class="fa fa-check"></i><b>3.1.6</b> Box office of Winners with female lead and the Nominees that year</a></li>
<li class="chapter" data-level="3.1.7" data-path="data-transformation.html"><a href="data-transformation.html#imdb-ratings-of-oscar"><i class="fa fa-check"></i><b>3.1.7</b> IMDB Ratings of Oscar</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a><ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#missing-values-in-actress-lead"><i class="fa fa-check"></i><b>4.1</b> Missing Values in Actress Lead</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#missing-values-in-actress-lead-1"><i class="fa fa-check"></i><b>4.2</b> Missing Values in Actress Lead</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a><ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#popular-movies-vs-oscar-winners"><i class="fa fa-check"></i><b>5.1</b> Popular movies vs Oscar Winners</a></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#imdb-ratings-of-oscar-movies-over-time"><i class="fa fa-check"></i><b>5.2</b> IMDB Ratings of Oscar Movies over Time</a></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#total-nominations-and-wins-of-actors"><i class="fa fa-check"></i><b>5.3</b> Total Nominations and Wins of actors</a></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#total-nominations-and-wins-of-actors-1"><i class="fa fa-check"></i><b>5.4</b> Total Nominations and Wins of actors</a></li>
<li class="chapter" data-level="5.5" data-path="results.html"><a href="results.html#female-lead-movie-box-office-vs-other-nominees-that-year"><i class="fa fa-check"></i><b>5.5</b> Female-lead Movie Box Office vs Other Nominees that Year</a></li>
<li class="chapter" data-level="5.6" data-path="results.html"><a href="results.html#average-rating-of-oscar-nominees-over-time"><i class="fa fa-check"></i><b>5.6</b> Average Rating of Oscar Nominees over Time</a></li>
<li class="chapter" data-level="5.7" data-path="results.html"><a href="results.html#average-runtime-of-oscar-nominees-over-time"><i class="fa fa-check"></i><b>5.7</b> Average Runtime of Oscar Nominees over Time</a></li>
<li class="chapter" data-level="5.8" data-path="results.html"><a href="results.html#average-runtime-vs-rating-of-oscar-best-picture-nominees"><i class="fa fa-check"></i><b>5.8</b> Average Runtime vs Rating of Oscar Best Picture Nominees</a></li>
<li class="chapter" data-level="5.9" data-path="results.html"><a href="results.html#best-lead-actors-race-over-time"><i class="fa fa-check"></i><b>5.9</b> Best Lead Actors Race over Time</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Oscars Over the Years</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1 hasAnchor">
<h1><span class="header-section-number">Chapter 3</span> Data transformation<a href="data-transformation.html#data-transformation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>We wrote functions that extract nth table from html, and read the tables in from Wikipedia for the Oscars winners and nominees over the years (1927-2021) for best actor, best actress, best supporting actor, and best supporting actress, and stored them in data frames actor_lead, actress_lead, actor_sup, actress_sup respectively. There were separate tables for each year on Wikipedia, so we combined the rows to make it into one data frame for each category. We used the same method for the black/Latin/Asian lead/supporting actors and actresses, and stored them in data frames black_actor_lead, black_actor_sup, black_actress_lead, black_actress_sup, and so on with Latin and Asian as well. We found one Egyptian Best Actor winner and put it in a single-row data frame. For the box office data for the highest grossing movies from 1977-2021, we found separate data sets for the box office of each year(1977-2021), scraped the Movie and the Box office of the row with the highest domestic grossing, and made a variable Year. We cleaned the numbers for the box office earnings as well. The resulting data set is a 45x3 data frame. For box office earnings for Oscar Best Picture (1980-2021), we first read in the table, selected “Movie”, “Domestic Box Office”, “Release Date” columns, renamed them appropriately, modified “Release Date” to make a new column "Year, and cleaned the numbers such as removing dollar signs and commas for the box office earnings. The resulting data set is a 41x4 data frame. For the list of Oscar Best Picture winners with female lead, we copied and pasted the corresponding Year and Movie to an excel file with those as the columns and read it in a data frame. And for the box office data of Winners with female lead and the Nominees of those 16 years, we found 16 separate data set for the whole box office of those years, selected for each year the rows of the winner and the nominees, copied and pasted them to an excel file and read it into a data frame. For the IMDB data for Oscars Best Picture winners and nominations over the years (1939-2021), we scraped Movie, Year, Genre, Running time, Rating and the link for the image of the movie poster to make it into a data frame.</p>
<div id="web-scraping" class="section level2 hasAnchor">
<h2><span class="header-section-number">3.1</span> Web Scraping<a href="data-transformation.html#web-scraping" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<pre><code>## # A tibble: 3 x 6
##   Year  Name             Film                 Role       Status `Milestone / N~`
##   &lt;chr&gt; &lt;chr&gt;            &lt;chr&gt;                &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;           
## 1 1958  Sidney Poitier   The Defiant Ones     Noah Cull~ Nomin~ &quot;First Black ac~
## 2 1963  Sidney Poitier   Lilies of the Field  Homer Smi~ Won    &quot;First Black ma~
## 3 1970  James Earl Jones The Great White Hope Jack Jeff~ Nomin~ &quot;&quot;</code></pre>
<pre><code>## # A tibble: 10 x 7
##    X1                      X2                      X3    X4    X5    X6    X7   
##    &lt;chr&gt;                   &lt;chr&gt;                   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
##  1 Actor in a Leading Role Actor in a Leading Role &quot;Act~ Acto~ Acto~ Acto~ &quot;Act~
##  2 Year                    Name                    &quot;Cou~ Film  Role  Stat~ &quot;Mil~
##  3 1956                    Yul Brynner             &quot;&quot;    The ~ King~ Won   &quot;Bor~
##  4 1971                    Topol                   &quot;&quot;    Fidd~ Tevye Nomi~ &quot;Fir~
##  5 1982                    Ben Kingsley            &quot;&quot;    Gand~ Maha~ Won   &quot;Fir~
##  6 1984                    F. Murray Abraham       &quot;&quot;    Amad~ Anto~ Won   &quot;Fir~
##  7 2003                    Ben Kingsley            &quot;&quot;    Hous~ Colo~ Nomi~ &quot;&quot;   
##  8 2011                    Demián Bichir           &quot;/&quot;   A Be~ Carl~ Nomi~ &quot;Leb~
##  9 2020                    Riz Ahmed               &quot;&quot;    Soun~ Rube~ Nomi~ &quot;Pak~
## 10 2020                    Steven Yeun             &quot;&quot;    Mina~ Jaco~ Nomi~ &quot;Kor~</code></pre>
<div id="all-supporting-actors-and-actresses" class="section level3 hasAnchor">
<h3><span class="header-section-number">3.1.1</span> All supporting actors and actresses<a href="data-transformation.html#all-supporting-actors-and-actresses" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="all-lead-actors-and-actresses" class="section level3 hasAnchor">
<h3><span class="header-section-number">3.1.2</span> All lead actors and actresses<a href="data-transformation.html#all-lead-actors-and-actresses" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="highest-grossing-movies-from-1977-2021" class="section level3 hasAnchor">
<h3><span class="header-section-number">3.1.3</span> Highest Grossing Movies from 1977-2021<a href="data-transformation.html#highest-grossing-movies-from-1977-2021" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<pre><code>##       Overall_Movie Overall_Boxoffice Year
## 1         Star Wars         307263857 1977
## 2            Grease         159978870 1978
## 3 Kramer vs. Kramer         106260000 1979</code></pre>
</div>
<div id="box-office-earnings-of-oscar-best-picture" class="section level3 hasAnchor">
<h3><span class="header-section-number">3.1.4</span> Box office earnings of Oscar Best Picture<a href="data-transformation.html#box-office-earnings-of-oscar-best-picture" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<pre><code>## # A tibble: 3 x 4
##   Oscar_Movie      Oscar_Boxoffice `Release Date`  Year
##   &lt;chr&gt;                      &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;
## 1 Ordinary People         52302978 Sep 19, 1980    1980
## 2 Chariots of Fire        61558162 Sep 25, 1981    1981
## 3 Gandhi                  52767889 Dec 8, 1982     1982</code></pre>
</div>
<div id="oscar-best-picture-winners-with-female-lead" class="section level3 hasAnchor">
<h3><span class="header-section-number">3.1.5</span> Oscar Best Picture Winners with female lead<a href="data-transformation.html#oscar-best-picture-winners-with-female-lead" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<pre><code>## # A tibble: 3 x 2
##    Year Movie                
##   &lt;dbl&gt; &lt;chr&gt;                
## 1  1935 It Happened One Night
## 2  1940 Gone With the Wind   
## 3  1941 Rebecca</code></pre>
</div>
<div id="box-office-of-winners-with-female-lead-and-the-nominees-that-year" class="section level3 hasAnchor">
<h3><span class="header-section-number">3.1.6</span> Box office of Winners with female lead and the Nominees that year<a href="data-transformation.html#box-office-of-winners-with-female-lead-and-the-nominees-that-year" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<pre><code>## # A tibble: 3 x 4
##    Year Movie                 Boxoffice Status
##   &lt;dbl&gt; &lt;chr&gt;                     &lt;dbl&gt; &lt;chr&gt; 
## 1  1935 It Happened One Night       5.2 W     
## 2  1935 Cleopatra                   5.5 N     
## 3  1935 Les Misérables              3.4 N</code></pre>
</div>
<div id="imdb-ratings-of-oscar" class="section level3 hasAnchor">
<h3><span class="header-section-number">3.1.7</span> IMDB Ratings of Oscar<a href="data-transformation.html#imdb-ratings-of-oscar" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<pre><code>##                         Movie Year                                   Genre
## 1                   Nomadland 2020                     \nDrama            
## 2                  The Father 2020            \nDrama, Mystery            
## 3 Judas and the Black Messiah 2021 \nBiography, Drama, History            
##      Time Rating
## 1 107 min    7.3
## 2  97 min    8.3
## 3 126 min    7.4
##                                                                                                                                                  Image
## 1 https://m.media-amazon.com/images/M/MV5BMDRiZWUxNmItNDU5Yy00ODNmLTk0M2ItZjQzZTA5OTJkZjkyXkEyXkFqcGdeQXVyMTkxNjUyNQ@@._V1_UX140_CR0,0,140,209_AL_.jpg
## 2 https://m.media-amazon.com/images/M/MV5BZGJhNWRiOWQtMjI4OS00ZjcxLTgwMTAtMzQ2ODkxY2JkOTVlXkEyXkFqcGdeQXVyMTkxNjUyNQ@@._V1_UY209_CR0,0,140,209_AL_.jpg
## 3 https://m.media-amazon.com/images/M/MV5BMjBjYjBjNTUtOTg0Ni00Yzk2LTg1NWMtNjI2ODk2YjJmZGU0XkEyXkFqcGdeQXVyODE5NzE3OTE@._V1_UX140_CR0,0,140,209_AL_.jpg</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/statisticalgraphics/oscars/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/statisticalgraphics/oscars/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
